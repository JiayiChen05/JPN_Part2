<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Room Reservations - Public Affirmation Library</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/theme-toggle.css" />
    <link rel="stylesheet" href="../css/reservation.css" />
    <link rel="stylesheet" href="../css/rooms.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Override any custom styles and use exact same nav spacing as index.html */
      header .nav-buttons {
        /* Remove any custom gap or spacing to use default from style.css */
        display: flex;
        align-items: center;
        gap: 1rem; /* Match the gap from index.html */
      }
      
      /* Ensure buttons have exact same dimensions and spacing */
      header .nav-buttons .btn {
        padding: 0.75rem 1.5rem;
        margin: 0;
      }
      
      /* Ensure theme toggle button is the same */
      header .nav-buttons .theme-toggle {
        margin: 0;
        padding: 0;
      }
      
      /* Mobile responsiveness should match index.html */
      @media (max-width: 768px) {
        header .nav-buttons {
          flex-wrap: wrap;
          justify-content: flex-end;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="logo">
          <h1>Public Affirmation Library</h1>
        </div>
        <div class="nav-buttons">
          <a href="../index.html" class="btn">Home</a>
          <a href="contact.html" class="btn">Contact</a>
          <a href="sponsor.html" class="btn">Sponsor</a>
          <a href="register.html" class="btn">Register</a>
          <a href="login.html" class="btn">Login</a>
          <button
            class="theme-toggle"
            onclick="toggleTheme()"
            aria-label="Toggle theme"
          >
            <svg
              class="sun-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM12 21.75a.75.75 0 01-.75-.75v-2.25a.75.75 0 011.5 0V21a.75.75 0 01-.75.75zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12zM21 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25A.75.75 0 0121 12zM5.78 5.78a.75.75 0 011.06 0l1.5 1.5a.75.75 0 01-1.06 1.06l-1.5-1.5a.75.75 0 010-1.06zM18.22 18.22a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 111.06-1.06l1.5 1.5a.75.75 0 010 1.06zM18.22 5.78a.75.75 0 010 1.06l-1.5 1.5a.75.75 0 11-1.06-1.06l1.5-1.5a.75.75 0 011.06 0zM5.78 18.22a.75.75 0 010-1.06l1.5-1.5a.75.75 0 111.06 1.06l-1.5 1.5a.75.75 0 01-1.06 0z"
              />
            </svg>
            <svg
              class="moon-icon"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path
                d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"
              />
            </svg>
          </button>
        </div>
      </nav>
    </header>

    <main>
      <div class="hero-section">
        <h2>
          <svg
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          Room Reservations
        </h2>
        <p>
          Browse and reserve study rooms from our library, or manage your
          existing reservations.
        </p>
      </div>

      <div class="reservation-container">
        <div class="reservation-tabs">
          <button
            class="tab-button active"
            data-tab="available-rooms"
            onclick="switchTab('available-rooms')"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Available Rooms
          </button>
          <button 
            class="tab-button" 
            data-tab="my-reservations"
            onclick="switchTab('my-reservations'); loadMyReservations();"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            My Reservations
          </button>
        </div>

        <div id="available-rooms" class="tab-content">
          <div class="search-filters">
            <div class="filter-group">
              <label for="capacity">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Capacity
              </label>
              <select id="capacity">
                <option value="">Any Capacity</option>
                <option value="5">&lt;5 People</option>
                <option value="10">&lt;10 People</option>
                <option value="15">&lt;15 People</option>
                <option value="20">&lt;20 People</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="date">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Date
              </label>
              <input type="date" id="date" min="" />
            </div>
            <div class="filter-group">
              <label for="time">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Time
              </label>
              <input type="time" id="time" />
            </div>
            <div class="filter-group">
              <label for="search">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Search
              </label>
              <input
                type="text"
                id="search"
                placeholder="Search by room number..."
              />
            </div>
          </div>

          <div id="rooms-grid" class="rooms-grid">
            <!-- Room cards will be loaded here by JavaScript -->
            <div class="room-card">
              <div class="room-details">
                <h3 class="room-title">Room 101</h3>
                <p class="room-info">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" 
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                  Capacity: 5 people
                </p>
                <p class="room-info">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" 
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                  Status: <span class="status-available">Available</span>
                </p>
                <button class="reservation-button" onclick="reserveRoom(101)">
                  Reserve Room
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75" 
                      stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div id="my-reservations" class="tab-content" style="display: none;">
          <div id="my-reservations-content">
            <!-- Reservations will be loaded here by JavaScript -->
            <p>Loading your reservations...</p>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <p>&copy; 2024 Public Affirmation Library. All rights reserved.</p>
    </footer>

    <script>
      // Set minimum date to today for the date input
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('date').min = today;
      
      function switchTab(tabId) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach(content => {
          content.style.display = 'none';
        });
        
        // Show selected tab content
        document.getElementById(tabId).style.display = 'block';
        
        // Update active tab button
        document.querySelectorAll('.tab-button').forEach(button => {
          if (button.getAttribute('data-tab') === tabId) {
            button.classList.add('active');
          } else {
            button.classList.remove('active');
          }
        });
      }
    </script>
    <script src="../js/theme-toggle.js"></script>
    <script src="../js/reservation.js"></script>
  </body>
</html>
