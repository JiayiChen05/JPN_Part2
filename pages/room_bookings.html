<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Room Bookings - Public Affirmation Library</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/theme-toggle.css">
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">
        <h1>Public Affirmation Library</h1>
      </div>
      <div class="nav-buttons">
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
          <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM12 21.75a.75.75 0 01-.75-.75v-2.25a.75.75 0 011.5 0V21a.75.75 0 01-.75.75zM3 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3.75A.75.75 0 013 12zM21 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25A.75.75 0 0121 12z"/>
          </svg>
          <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"/>
          </svg>
        </button>
        <div class="dropdown">
          <button class="btn dropdown-toggle" id="user-button">üë§ Employee</button>
          <div class="dropdown-content">
            <a href="#" onclick="loadPage('employee_profile.html')">üë§ Profile Settings</a>
            <hr>
            <a href="#" class="sign-out" onclick="logout()">üö™ Sign Out</a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="page-container">
      <div class="page-header">
        <button onclick="loadPage('employee_dashboard.html')" class="btn btn-back">‚Üê Back</button>
        <h2>Room Bookings</h2>
      </div>

      <!-- Booking Filters -->
      <div class="filters-section">
        <div class="filter-group">
          <label for="dateFilter">Date:</label>
          <input type="date" id="dateFilter" class="filter-input">
        </div>
        <div class="filter-group">
          <label for="roomFilter">Room:</label>
          <select id="roomFilter" class="filter-input">
            <option value="">All Rooms</option>
            <option value="101">Room 101</option>
            <option value="102">Room 102</option>
            <!-- Add more rooms dynamically -->
          </select>
        </div>
        <div class="filter-group">
          <label for="statusFilter">Status:</label>
          <select id="statusFilter" class="filter-input">
            <option value="">All Status</option>
            <option value="upcoming">Upcoming</option>
            <option value="ongoing">Ongoing</option>
            <option value="completed">Completed</option>
            <option value="cancelled">Cancelled</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
      </div>

      <!-- Bookings List -->
      <div class="list-section">
        <h3>Current Bookings</h3>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Booking ID</th>
                <th>Room</th>
                <th>Customer</th>
                <th>Date</th>
                <th>Time</th>
                <th>Duration</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="bookingsList">
              <!-- Bookings will be loaded dynamically -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Booking Details Modal -->
      <div id="bookingModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h3>Booking Details</h3>
          <div id="bookingDetails">
            <!-- Booking details will be loaded here -->
          </div>
          <div class="modal-actions">
            <button class="btn btn-primary" onclick="approveBooking()">Approve</button>
            <button class="btn btn-delete" onclick="cancelBooking()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <style>
    .page-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .page-header {
      margin-bottom: 30px;
    }

    .btn-back {
      background: none;
      border: none;
      color: var(--text-primary);
      cursor: pointer;
      font-size: 1rem;
      padding: 8px 16px;
      margin-bottom: 10px;
    }

    .filters-section {
      display: flex;
      gap: 20px;
      align-items: flex-end;
      background: var(--surface);
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .filter-group {
      flex: 1;
      min-width: 200px;
    }

    .filter-group label {
      display: block;
      margin-bottom: 5px;
      color: var(--text-primary);
    }

    .filter-input {
      width: 100%;
      padding: 8px;
      border: 1px solid var(--border);
      border-radius: 4px;
      background: var(--background);
      color: var(--text-primary);
    }

    .table-container {
      overflow-x: auto;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--surface);
      border-radius: 8px;
      overflow: hidden;
    }

    .data-table th,
    .data-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    .data-table th {
      background: var(--surface-variant);
      font-weight: 500;
    }

    .data-table tr:hover {
      background: var(--surface-variant);
    }

    .status-badge {
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .status-upcoming {
      background: var(--info-bg);
      color: var(--info);
    }

    .status-ongoing {
      background: var(--success-bg);
      color: var(--success);
    }

    .status-completed {
      background: var(--accent-secondary-bg);
      color: var(--accent-secondary);
    }

    .status-cancelled {
      background: var(--error-bg);
      color: var(--error);
    }

    .action-buttons {
      display: flex;
      gap: 8px;
    }

    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background-color 0.2s;
    }

    .btn-primary {
      background: var(--accent-primary);
      color: white;
    }

    .btn-view {
      background: var(--accent-secondary);
      color: white;
    }

    .btn-cancel {
      background: var(--error);
      color: white;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .modal-content {
      position: relative;
      background: var(--surface);
      margin: 10% auto;
      padding: 20px;
      width: 80%;
      max-width: 600px;
      border-radius: 8px;
    }

    .close {
      position: absolute;
      right: 20px;
      top: 20px;
      font-size: 24px;
      cursor: pointer;
    }

    .modal-actions {
      margin-top: 20px;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
  </style>

  <script src="../js/theme-toggle.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      loadBookings();
      setupModalHandlers();
    });

    function loadBookings() {
      // ËøôÈáåÊ∑ªÂä†Âä†ËΩΩÈ¢ÑËÆ¢ÂàóË°®ÁöÑÈÄªËæë
      const bookingsList = document.getElementById('bookingsList');
      // Á§∫‰æãÊï∞ÊçÆ
      const bookings = [
        {
          id: 'BK001',
          room: '101',
          customer: 'John Doe',
          date: '2024-03-20',
          time: '09:00 - 11:00',
          duration: '2 hours',
          status: 'upcoming'
        },
        // Ê∑ªÂä†Êõ¥Â§öÈ¢ÑËÆ¢Êï∞ÊçÆ...
      ];

      bookingsList.innerHTML = bookings.map(booking => `
        <tr>
          <td>${booking.id}</td>
          <td>Room ${booking.room}</td>
          <td>${booking.customer}</td>
          <td>${booking.date}</td>
          <td>${booking.time}</td>
          <td>${booking.duration}</td>
          <td><span class="status-badge status-${booking.status}">${booking.status}</span></td>
          <td>
            <div class="action-buttons">
              <button class="btn btn-view" onclick="viewBooking('${booking.id}')">View</button>
              <button class="btn btn-cancel" onclick="cancelBooking('${booking.id}')">Cancel</button>
            </div>
          </td>
        </tr>
      `).join('');
    }

    function setupModalHandlers() {
      const modal = document.getElementById('bookingModal');
      const closeBtn = document.querySelector('.close');

      closeBtn.onclick = () => {
        modal.style.display = 'none';
      };

      window.onclick = (event) => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      };
    }

    function applyFilters() {
      const date = document.getElementById('dateFilter').value;
      const room = document.getElementById('roomFilter').value;
      const status = document.getElementById('statusFilter').value;
      
      // ËøôÈáåÊ∑ªÂä†ËøáÊª§ÈÄªËæë
      console.log('Applying filters:', { date, room, status });
      loadBookings(); // ÈáçÊñ∞Âä†ËΩΩËøáÊª§ÂêéÁöÑÈ¢ÑËÆ¢
    }

    function viewBooking(bookingId) {
      // ËøôÈáåÊ∑ªÂä†Êü•ÁúãÈ¢ÑËÆ¢ËØ¶ÊÉÖÁöÑÈÄªËæë
      const modal = document.getElementById('bookingModal');
      const bookingDetails = document.getElementById('bookingDetails');
      
      // Á§∫‰æãÊï∞ÊçÆ
      bookingDetails.innerHTML = `
        <p><strong>Booking ID:</strong> ${bookingId}</p>
        <p><strong>Customer:</strong> John Doe</p>
        <p><strong>Room:</strong> 101</p>
        <p><strong>Date:</strong> 2024-03-20</p>
        <p><strong>Time:</strong> 09:00 - 11:00</p>
        <p><strong>Duration:</strong> 2 hours</p>
        <p><strong>Status:</strong> Upcoming</p>
        <p><strong>Notes:</strong> Customer requested whiteboard and projector.</p>
      `;
      
      modal.style.display = 'block';
    }

    function approveBooking(bookingId) {
      console.log('Approve booking:', bookingId);
    }

    function cancelBooking(bookingId) {
      console.log('Cancel booking:', bookingId);
    }

    function loadPage(url) {
      window.location.href = url;
    }

    function logout() {
      window.location.href = 'login.html';
    }
  </script>
</body>
</html> 